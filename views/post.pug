extends layout.pug

block feature
  if post.image
    .feature.post(style='background-image: url(/images/posts/scaled_' + post.image +' ); position: relative;')
      .grayscale-overlay
      .container.grid-960
        .feature-text
          img(src="/logo.svg")
          h1 #{post.title}

block content
  .columns
    .main.post.column.col-9.col-md-8.col-sm-12
      if post.image
        .post-image
          img(src=`/images/posts/scaled_${post.image}`)
      span.date Published on: #{post.date}
      if post.author
        br
        span.author Posted by: #{post.author.name}
      .post-body!= md.toHTML(post.content)
    .sidebar.column.col-3.col-md-4.col-sm-12
      h4 Other Posts
      .cards.columns
        each post in posts
          .card.column.col-12.col-sm-6.col-xs-6(style="margin-bottom: 30px")
            .card-header
              .card-title= post.title
              .card-subtitle= post.date
            .card-image
              img.img-responsive(src=`/images/posts/thumbs/${post.image}`)
            .card-body!= md.toHTML(post.summary)
            .card-footer
              a.btn.btn-default(href=`/posts/${post._id}`) View Post
